<!DOCTYPE html><!--K15LF0r7lMJTrFkpTVd8t--><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/5050cd175b341a49.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-df4276870dc952b3.js"/><script src="/_next/static/chunks/85196ca0-84efd0804811d132.js" async=""></script><script src="/_next/static/chunks/355-9981bfafff819135.js" async=""></script><script src="/_next/static/chunks/main-app-90df98a0ae82b9e2.js" async=""></script><script src="/_next/static/chunks/223-995718c84505ae71.js" async=""></script><script src="/_next/static/chunks/464-8f3f5ecc2232c21e.js" async=""></script><script src="/_next/static/chunks/app/blog/%5Bslug%5D/page-84d594473e3b8f62.js" async=""></script><meta name="next-size-adjust" content=""/><title>리눅스에서 TCP 네트워크 응용프로그램 작성하기위한 전반적인 모든 것 | loopy</title><meta name="author" content="loopy"/><meta name="robots" content="index, follow"/><meta name="googlebot" content="index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"/><link rel="canonical" href="http://localhost:3000/"/><meta property="og:title" content="리눅스에서 TCP 네트워크 응용프로그램 작성하기위한 전반적인 모든 것"/><meta property="og:image" content="https://www.notion.so/images/page-cover/gradients_11.jpg"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image:alt" content="리눅스에서 TCP 네트워크 응용프로그램 작성하기위한 전반적인 모든 것"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2024-08-16"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="리눅스에서 TCP 네트워크 응용프로그램 작성하기위한 전반적인 모든 것"/><meta name="twitter:image" content="https://www.notion.so/images/page-cover/gradients_11.jpg"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","name":"loopy","description":"A blog built with Next.js and Notion","url":"http://localhost:3000","author":{"@type":"Person","name":"loopy"},"publisher":{"@type":"Organization","name":"loopy"}}</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_f367f3"><div hidden=""><!--$--><!--/$--></div><div class="min-h-screen bg-background font-sans antialiased"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"리눅스에서 TCP 네트워크 응용프로그램 작성하기위한 전반적인 모든 것","description":"","image":["https://www.notion.so/images/page-cover/gradients_11.jpg"],"datePublished":"2024-08-16","dateModified":"2024-08-16","author":{"@type":"Person","name":"loopy"},"publisher":{"@type":"Organization","name":"loopy"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:3000/blog/fff2c39d-6e1f-8072-b42a-f6dfa813dd4a"}}</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"홈","item":"http://localhost:3000"},{"@type":"ListItem","position":2,"name":"블로그","item":"http://localhost:3000/blog"},{"@type":"ListItem","position":3,"name":"리눅스에서 TCP 네트워크 응용프로그램 작성하기위한 전반적인 모든 것","item":"http://localhost:3000/blog/fff2c39d-6e1f-8072-b42a-f6dfa813dd4a"}]}</script><main class="relative min-h-screen pb-20"><div class="absolute top-0 left-0 w-full z-0"><div class="relative pt-6 px-4 sm:px-6"><div class="max-w-7xl mx-auto transform scale-95 sm:scale-90 transition-transform"><div class="relative h-[400px] sm:h-[600px] w-full rounded-[2rem] sm:rounded-[2.5rem] bg-cover bg-center overflow-hidden select-none" style="background-image:url(https://www.notion.so/images/page-cover/gradients_11.jpg)"><div class="absolute inset-0 bg-white/30 dark:bg-gray-900/30 backdrop-blur-sm backdrop-brightness-110"></div><a class="absolute bottom-6 left-6 inline-flex items-center justify-center rounded-full bg-white/90 p-3 text-gray-700 transition-transform hover:-translate-x-1 hover:text-gray-900 dark:bg-gray-950/90 dark:text-gray-300 dark:hover:text-white shadow-lg backdrop-blur-sm" href="/blog/"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg></a></div></div><div class="absolute top-1/2 left-1/2 w-full max-w-4xl -translate-x-1/2 -translate-y-1/2 text-center px-4 pointer-events-none"><h1 class="text-3xl sm:text-5xl md:text-6xl font-bold text-gray-900 dark:text-white drop-shadow-lg break-keep leading-tight">리눅스에서 TCP 네트워크 응용프로그램 작성하기위한 전반적인 모든 것</h1></div></div></div><div class="h-[450px] sm:h-[650px]"></div><article class="container mx-auto px-4 max-w-4xl relative z-10 bg-transparent"><header class="mb-12 text-center"><div class="flex flex-wrap items-center justify-center gap-4 text-gray-600 dark:text-gray-400"><time dateTime="2024-08-16" class="text-sm font-medium">2024년 08월 16일</time></div></header><!--$?--><template id="B:0"></template><div class="animate-pulse"><div class="space-y-4"><div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-full"></div><div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-5/6"></div><div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-4/5"></div><div class="h-64 bg-gray-200 dark:bg-gray-700 rounded w-full"></div><div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-full"></div><div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"></div></div></div><!--/$--></article></main><!--$--><!--/$--></div><script>requestAnimationFrame(function(){$RT=performance.now()});</script><script src="/_next/static/chunks/webpack-df4276870dc952b3.js" id="_R_" async=""></script><div hidden id="S:0"><article class="prose prose-lg dark:prose-invert max-w-none notion-content"><div class="my-6 relative w-full h-96"><img alt="Content image" loading="lazy" decoding="async" data-nimg="fill" class="object-contain rounded-lg" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent" src="https://prod-files-secure.s3.us-west-2.amazonaws.com/52eb2cf7-d135-47dc-9439-bac44b0f8bd2/922d259d-c224-4c85-a742-7abe5e5d0a22/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&amp;X-Amz-Credential=ASIAZI2LB4666FDIHV3C%2F20251207%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20251207T044444Z&amp;X-Amz-Expires=3600&amp;X-Amz-Security-Token=IQoJb3JpZ2luX2VjELf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDYzE7OH2nVXOVe2QH26FcXKKTH7H2WB3gv0vxrAuDi4AIgS6ALcSk7sypLbBNpCl0kdyYMYAV6ruxf8BaUwessDEcqiAQIgP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDKAaLwo%2FhIbRxCEXcircA7lWV76WzqdgmkDUv6XtbqfSMkPjXWBSiPd4NCSOXmcVa6cYpEGfrgWDe6LDWHYG7MKaRTRhCJX1eeC1ch4aO9NZhlzJ2h2PWT5uNPVB7lwwZzKk8V2%2F9L%2B3W8IoG0lLG0DJI91eFWn62%2FxFYzw8CpQAk8wUC0hkbmVslypEOPZiZ1QP%2BBP5IQCPJcP%2FQbBAkhkekzWxOPJwEwdZREVvDBQzJxr4DGfQzShxS0bqMDS4Elhiv1fXiuWhSJNqDuIBGOgukw1RIbi169QbbNW4zedlI1kyVy8aQrN7DOGjGs4thKZzVeM1I0YnUENUVg3ECHtlfi2nZeY10mvUFLUjKGKRpkwy%2B4TpyNdgFYvixnCA%2BDNf1wjtg9RDxOq5HvmI4OWpcvvsebSX%2BcDesoOZX3e5wMgCyu0rOq0SIWWw9hAhOp4duIlKemJcxLwbjxHf1rDDpb84JnuTSNwFoXPTvaPuIPlNXQpieh81WOvIrVqF8AiSq6vR2ASAtIsjtvknyOsKUr94YEL0ffSdMXobc2QbkMrPRk94lVg1V0%2FabuVrXCepGnT81%2Fdlz0mCh5ctuoa%2BtZKGzWgtW58ditUULZcZSRs%2B1Yrq1TKVyKh6j1gC%2FyNHR%2BMm9FuQszoGMP%2Fq0skGOqUBWyyCAP02dbOk%2F27ujQJnLwUMYSbXFhHJ0Oj7LWB55aQrfR3TOgr0vOREgcr67U%2B8%2BJr56wbY3NjQXuNx7o4sWTqYmDHSufUvW%2Bqhb%2BFOZ03XqoXDacVR59ZC8cKbV%2BUKH%2BaTwzc%2B3QKLLDQkvhfFc%2BHmHhUTT7uQVnwlglJ4cs2rJhdIDjJdthdVMtrAXn68RBpH8MLTWxF19LTl%2BLuckk7wtjMC&amp;X-Amz-Signature=caecdc327a62c9cd10dbb5cabefe35aa2516cc21d3e1e92bbbd2771f74780704&amp;X-Amz-SignedHeaders=host&amp;x-amz-checksum-mode=ENABLED&amp;x-id=GetObject"/></div><p class="mb-4 leading-relaxed"><span class="" style="color:inherit">CSAPP(Computer Systems: A Program’s Perspective)의 11장을 읽으면서 Client와 Server간의 정리가 한번 필요하다고 생각하여 작성하는 글입니다. 여기서 소켓은 TCP/IP만을 사용하는 소켓이고, 나머지 부분은 필요에 의해한다면 따로 공부할 예정입니다. CSAPP에서 사용하고 있는 echo 서버와 linux의 socket에 대해서 설명하는 글입니다.</span></p><p class="mb-4 leading-relaxed"><span class="" style="color:inherit">먼저 위와 같은 그림을 이해하기 이전에 client와 server 그리고 tcp에 대해서 이해해야합니다.</span></p><h2 class="text-2xl font-bold mb-3 mt-5"><span class="" style="color:inherit">Client와 Server</span></h2><p class="mb-4 leading-relaxed"><span class="" style="color:inherit">프로젝트를 하다보면 Client와 Server를 사용자 기기에 있는지 아닌지 등 한가지로만 구분하게 됩니다. 이 블로그에 필자가 생각하는 Client와 Server의 차이점은 다음과 같습니다.</span></p><p class="mb-4 leading-relaxed"><span class="" style="color:inherit">Client: 신호를 주는 주체</span></p><p class="mb-4 leading-relaxed"><span class="" style="color:inherit">Server: 신호를 받는 객체</span></p><p class="mb-4 leading-relaxed"><span class="" style="color:inherit">즉 여기서 모든 권리는 Client가 가지고 있습니다. Server은 Client가 주는 데이터를 가지고 분석하여 Client가 원하는 대답을 주어야 합니다. 이런 시각은 반대로 Server에서 원하는 데이터를 주지 않을 시, Client가 동작하지 않는 관점으로 해석할 수 있습니다.</span></p><p class="mb-4 leading-relaxed"><span class="" style="color:inherit">여담으로 위와 같은 관점으로 바라보았을 때 API 규격을 어떻게 작성하면 좋을지 한번 더 생각해볼 수 있습니다. Client와 Server가 모두 어떤 상황이고 어떠한 특징을 가졌는지에 따라서 보편적으로 또는 보수적으로 작성하는 것을 고민할 수 있습니다.</span></p><h2 class="text-2xl font-bold mb-3 mt-5"><span class="" style="color:inherit">TCP</span></h2><p class="mb-4 leading-relaxed"><span class="" style="color:inherit">TCP는 전송계층의 한 프로토콜방식이며, 이와 반대되는 것은 UDP라고 생각할 수 있습니다. (여담이지만, 매번 UDP를 보았을 때 스타크래프트가 생각납니다.) TCP는 군사적인 목적으로 어떻게든 동작할 수 있으며, 중간에 데이터 유실이 일어나거나, 너무 전달되는 것을 막기 위해 나온 것입니다. 그래서 최대한 빠른 것이 아니라 안정적인 것이 더 중점으로 만들어졌다고 생각하면 좋습니다.</span></p><p class="mb-4 leading-relaxed"><span class="" style="color:inherit">Mail, game 등 몇몇을 제외하고 인터넷의 대부분의 통신은 TCP/IP에 의해서 돌아간다고 합니다. 왜 그랬을까? 라는 생각을 하면, 아무래도 대부분의 통신은 ms의 단위가 중요하지 않고, 안정적으로 통신을 완료하는 것이 더 중요하기 때문이라고 생각합니다.</span></p><h3 class="text-xl font-bold mb-2 mt-4"><span class="" style="color:inherit">TCP Segment(세그먼트)</span></h3><p class="mb-4 leading-relaxed"><span class="" style="color:inherit">TCP는 데이터를 일정한 단위로 분할하여 TCP 헤더를 붙여 세그먼트를 생성합니다. 이 세그먼트는 IP 데이터그램에 캡슐화되어 전송합니다. 잠시 헷갈리는 용어를 정리하고 가겠습니다.</span></p><li class="ml-6 list-disc mb-2"><span class="" style="color:inherit">세그먼트: TCP PDU(프로토콜 데이터 유닛)</span></li><li class="ml-6 list-disc mb-2"><span class="" style="color:inherit">데이터그램: IP PDU</span></li><li class="ml-6 list-disc mb-2"><span class="" style="color:inherit">프레임: 데이터 링크 계층 PDU</span></li><p class="mb-4 leading-relaxed"><span class="" style="color:inherit">아래는 간략하게 표시한 TCP의 세그먼트 구조입니다.(자세한 것은 TCP정의 문서인 </span><span class="" style="color:inherit">RFC 9293</span><span class="" style="color:inherit">을 참고하시면 좋습니다, 아래는 정확한 것이 아닙니다.)</span></p><div class="my-6 relative w-full h-96"><img alt="TCP의 세그먼트 주소(간략)" loading="lazy" decoding="async" data-nimg="fill" class="object-contain rounded-lg" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent" src="https://prod-files-secure.s3.us-west-2.amazonaws.com/52eb2cf7-d135-47dc-9439-bac44b0f8bd2/8622a5e2-561e-4632-906f-8325cffa3160/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&amp;X-Amz-Credential=ASIAZI2LB4666FDIHV3C%2F20251207%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20251207T044444Z&amp;X-Amz-Expires=3600&amp;X-Amz-Security-Token=IQoJb3JpZ2luX2VjELf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDYzE7OH2nVXOVe2QH26FcXKKTH7H2WB3gv0vxrAuDi4AIgS6ALcSk7sypLbBNpCl0kdyYMYAV6ruxf8BaUwessDEcqiAQIgP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDKAaLwo%2FhIbRxCEXcircA7lWV76WzqdgmkDUv6XtbqfSMkPjXWBSiPd4NCSOXmcVa6cYpEGfrgWDe6LDWHYG7MKaRTRhCJX1eeC1ch4aO9NZhlzJ2h2PWT5uNPVB7lwwZzKk8V2%2F9L%2B3W8IoG0lLG0DJI91eFWn62%2FxFYzw8CpQAk8wUC0hkbmVslypEOPZiZ1QP%2BBP5IQCPJcP%2FQbBAkhkekzWxOPJwEwdZREVvDBQzJxr4DGfQzShxS0bqMDS4Elhiv1fXiuWhSJNqDuIBGOgukw1RIbi169QbbNW4zedlI1kyVy8aQrN7DOGjGs4thKZzVeM1I0YnUENUVg3ECHtlfi2nZeY10mvUFLUjKGKRpkwy%2B4TpyNdgFYvixnCA%2BDNf1wjtg9RDxOq5HvmI4OWpcvvsebSX%2BcDesoOZX3e5wMgCyu0rOq0SIWWw9hAhOp4duIlKemJcxLwbjxHf1rDDpb84JnuTSNwFoXPTvaPuIPlNXQpieh81WOvIrVqF8AiSq6vR2ASAtIsjtvknyOsKUr94YEL0ffSdMXobc2QbkMrPRk94lVg1V0%2FabuVrXCepGnT81%2Fdlz0mCh5ctuoa%2BtZKGzWgtW58ditUULZcZSRs%2B1Yrq1TKVyKh6j1gC%2FyNHR%2BMm9FuQszoGMP%2Fq0skGOqUBWyyCAP02dbOk%2F27ujQJnLwUMYSbXFhHJ0Oj7LWB55aQrfR3TOgr0vOREgcr67U%2B8%2BJr56wbY3NjQXuNx7o4sWTqYmDHSufUvW%2Bqhb%2BFOZ03XqoXDacVR59ZC8cKbV%2BUKH%2BaTwzc%2B3QKLLDQkvhfFc%2BHmHhUTT7uQVnwlglJ4cs2rJhdIDjJdthdVMtrAXn68RBpH8MLTWxF19LTl%2BLuckk7wtjMC&amp;X-Amz-Signature=73e7cefe1f83f724e252994ad263699cba013fae0a6f94e57664ca1e2337fb9f&amp;X-Amz-SignedHeaders=host&amp;x-amz-checksum-mode=ENABLED&amp;x-id=GetObject"/><p class="text-center text-sm text-gray-600 dark:text-gray-400 mt-2">TCP의 세그먼트 주소(간략)</p></div><p class="mb-4 leading-relaxed"><span class="" style="color:inherit">TCP세그먼트는 헤더와 데이터 필드로 나뉘어 있습니다.</span></p><h3 class="text-xl font-bold mb-2 mt-4"><span class="" style="color:inherit">자세한 내용은 아래 토글을 통해 확인할 수 있습니다.</span></h3><p class="mb-4 leading-relaxed"><span class="" style="color:inherit">네트워크의 속도에 따라서 분할된 데이터가 순서대로 도착하지 않거나, 도착하지 않는 경우가 있습니다. 이를 위와 같은 세그먼트의 규약을 통해서 데이터를 안전하고 정확하게 복구할 수 있습니다.</span></p><h2 class="text-2xl font-bold mb-3 mt-5"><span class="" style="color:inherit">TCP Handshake</span></h2><p class="mb-4 leading-relaxed"><span class="" style="color:inherit">TCP 통신을 하려면 네트워크 연결 설정이 먼저 필요합니다. 데이터를 발송하는 애플리케이션, 수신하는 애플리케이션 모두 준비가 되었다는 것을 보장하기 위해 필요합니다. 일반적으로 TCP연결을 생성할 때는 3-Way Handshake를 이용한다.</span></p><li class="ml-6 list-decimal mb-2"><span class="" style="color:inherit">SYN: 클라이언트가 서버에서 SYN을 전송합니다.</span></li><li class="ml-6 list-decimal mb-2"><span class="" style="color:inherit">SYN-ACK: 서버가 SYN-ACK로 답장합니다. ACK는 클라이언트로부터 전달받은 SYN에 1을 덧셈한 것입니다.</span></li><li class="ml-6 list-decimal mb-2"><span class="" style="color:inherit">ACK: 클라이언트가 서버에게 ACK + 1을 전송합니다.</span></li><h2 class="text-2xl font-bold mb-3 mt-5"><span class="" style="color:inherit">Clinet와 Server의 통신</span></h2><div class="my-6 relative w-full h-96"><img alt="Content image" loading="lazy" decoding="async" data-nimg="fill" class="object-contain rounded-lg" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent" src="https://prod-files-secure.s3.us-west-2.amazonaws.com/52eb2cf7-d135-47dc-9439-bac44b0f8bd2/922d259d-c224-4c85-a742-7abe5e5d0a22/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&amp;X-Amz-Credential=ASIAZI2LB4666FDIHV3C%2F20251207%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20251207T044444Z&amp;X-Amz-Expires=3600&amp;X-Amz-Security-Token=IQoJb3JpZ2luX2VjELf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDYzE7OH2nVXOVe2QH26FcXKKTH7H2WB3gv0vxrAuDi4AIgS6ALcSk7sypLbBNpCl0kdyYMYAV6ruxf8BaUwessDEcqiAQIgP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDKAaLwo%2FhIbRxCEXcircA7lWV76WzqdgmkDUv6XtbqfSMkPjXWBSiPd4NCSOXmcVa6cYpEGfrgWDe6LDWHYG7MKaRTRhCJX1eeC1ch4aO9NZhlzJ2h2PWT5uNPVB7lwwZzKk8V2%2F9L%2B3W8IoG0lLG0DJI91eFWn62%2FxFYzw8CpQAk8wUC0hkbmVslypEOPZiZ1QP%2BBP5IQCPJcP%2FQbBAkhkekzWxOPJwEwdZREVvDBQzJxr4DGfQzShxS0bqMDS4Elhiv1fXiuWhSJNqDuIBGOgukw1RIbi169QbbNW4zedlI1kyVy8aQrN7DOGjGs4thKZzVeM1I0YnUENUVg3ECHtlfi2nZeY10mvUFLUjKGKRpkwy%2B4TpyNdgFYvixnCA%2BDNf1wjtg9RDxOq5HvmI4OWpcvvsebSX%2BcDesoOZX3e5wMgCyu0rOq0SIWWw9hAhOp4duIlKemJcxLwbjxHf1rDDpb84JnuTSNwFoXPTvaPuIPlNXQpieh81WOvIrVqF8AiSq6vR2ASAtIsjtvknyOsKUr94YEL0ffSdMXobc2QbkMrPRk94lVg1V0%2FabuVrXCepGnT81%2Fdlz0mCh5ctuoa%2BtZKGzWgtW58ditUULZcZSRs%2B1Yrq1TKVyKh6j1gC%2FyNHR%2BMm9FuQszoGMP%2Fq0skGOqUBWyyCAP02dbOk%2F27ujQJnLwUMYSbXFhHJ0Oj7LWB55aQrfR3TOgr0vOREgcr67U%2B8%2BJr56wbY3NjQXuNx7o4sWTqYmDHSufUvW%2Bqhb%2BFOZ03XqoXDacVR59ZC8cKbV%2BUKH%2BaTwzc%2B3QKLLDQkvhfFc%2BHmHhUTT7uQVnwlglJ4cs2rJhdIDjJdthdVMtrAXn68RBpH8MLTWxF19LTl%2BLuckk7wtjMC&amp;X-Amz-Signature=caecdc327a62c9cd10dbb5cabefe35aa2516cc21d3e1e92bbbd2771f74780704&amp;X-Amz-SignedHeaders=host&amp;x-amz-checksum-mode=ENABLED&amp;x-id=GetObject"/></div><p class="mb-4 leading-relaxed"><span class="" style="color:inherit">먼저 위에서 말했다 싶이 통신의 주체는 client입니다. 하지만 이를 보내거나 받기전에 준비해야할 사전작업들이 매우 많습니다. 먼저 애플리케이션이 돌아가기 위해서는 그 아래의 계층인 커널에게 허락을 받아야 합니다. 그 이유는 각 TCP, UDP마다 가용 가능한 Port는 다르고 이를 다루는 것은 커널이기 때문입니다.(여담으로, Ubuntu 내에서는 1024이하의 포트에서는 sudo의 권한이 필요합니다)</span></p><p class="mb-4 leading-relaxed"><span class="" style="color:inherit">여기서 getaddinfo함수를 통하여 열고 싶은 포트와 호스트 등의 관련되어 있는 정보들을 모두 받을 수 있습니다. 이 이후 socket을 열어 실행할 수 있습니다. 즉 커널은 이때 프로세스가 포트를 사용함을 알 수 있습니다.</span></p><p class="mb-4 leading-relaxed"><span class="" style="color:inherit">여기서부터 server쪽에서 bind라는 함수와 listen이라는 함수를 사용합니다. 먼저 bind는 얻어낸 socket의 값을 이용하여 client와 연결을 수립하기 위해 존재합니다. 또 listen은 socket에 연결된 이후 클라이언트의 connection을 기다리는 함수입니다. 이렇게 작성되는 이유는 위에서 보았듯이 client는 능동적이고 server는 수동적이기 때문입니다.</span></p><p class="mb-4 leading-relaxed"><span class="" style="color:inherit">이제 드디어 TCP로 연결할 수 있도록 모두 준비를 하였습니다. client에서 connect의 함수를 이용하여 원격 위치에 있는 server에게 연결을 시도합니다. server에서 listen을 하고 있다면 accept가 되어 위에서 작성된 TCP Handshake가 일어납니다. 그 이후 server는 연결되어 기다리는 상태, client는 터널이 생겨 직접 보낼 수 있는 상태가 됩니다.</span></p><p class="mb-4 leading-relaxed"><span class="" style="color:inherit">위 다이어그램에서는 rio_writen을 통하여 socket에 쓰고, rio_readlineb를 통하여 socket에 들어온 정보를 적습니다. 이 과정이 소켓이 끊어질 때까지 일련의 과정을 지속할 수 있습니다.</span></p><p class="mb-4 leading-relaxed"><span class="" style="color:inherit">맨 마지막에 close 또한 일반적으로 server가 주체가 아닌 client가 주체입니다. client에서 close라는 신호인 EOF를 보내주고 프로그램을 종료합니다. 이 데이터를 server에서 읽은 이후 close로 하고, 다시 listen상태로 되돌아 갑니다</span></p><p class="mb-4 leading-relaxed"><span class="" style="color:inherit">위와 같은 handshake또한 kernel에서 추상화되어 쉽게 쓸 수 있다라는 것을 알 수 있습니다.</span></p><blockquote class="border-l-4 border-gray-300 dark:border-gray-600 pl-4 italic my-4 text-gray-700 dark:text-gray-300"><span class="" style="color:inherit">이를 가지고 CSAPP의 network:lab을 재미있게 하면 좋을 것 같습니다.</span></blockquote><h2 class="text-2xl font-bold mb-3 mt-5"><span class="" style="color:inherit">Document</span></h2><li class="ml-6 list-disc mb-2"><span class="" style="color:inherit">나무위키 | TCP</span></li><li class="ml-6 list-disc mb-2"><span class="" style="color:inherit">TOSS | TCP 용어사전</span></li><li class="ml-6 list-disc mb-2"><span class="" style="color:inherit">jhin.lee | TCP-Segment Structure</span></li></article></div><script>$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};
$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};$RC("B:0","S:0")</script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[2498,[],\"\"]\n3:I[256,[],\"\"]\n5:I[9355,[],\"OutletBoundary\"]\n7:I[74,[],\"AsyncMetadataOutlet\"]\n9:I[9355,[],\"ViewportBoundary\"]\nb:I[9355,[],\"MetadataBoundary\"]\nc:\"$Sreact.suspense\"\ne:I[2221,[],\"\"]\n:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/5050cd175b341a49.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"K15LF0r7lMJTrFkpTVd8t\",\"p\":\"\",\"c\":[\"\",\"blog\",\"fff2c39d-6e1f-8072-b42a-f6dfa813dd4a\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"fff2c39d-6e1f-8072-b42a-f6dfa813dd4a\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/5050cd175b341a49.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"ko\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"WebSite\\\",\\\"name\\\":\\\"loopy\\\",\\\"description\\\":\\\"A blog built with Next.js and Notion\\\",\\\"url\\\":\\\"http://localhost:3000\\\",\\\"author\\\":{\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"loopy\\\"},\\\"publisher\\\":{\\\"@type\\\":\\\"Organization\\\",\\\"name\\\":\\\"loopy\\\"}}\"}}]}],[\"$\",\"body\",null,{\"className\":\"__className_f367f3\",\"children\":[\"$\",\"div\",null,{\"className\":\"min-h-screen bg-background font-sans antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"fff2c39d-6e1f-8072-b42a-f6dfa813dd4a\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L4\",null,[\"$\",\"$L5\",null,{\"children\":[\"$L6\",[\"$\",\"$L7\",null,{\"promise\":\"$@8\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$L9\",null,{\"children\":\"$La\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]],[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$c\",null,{\"fallback\":null,\"children\":\"$Ld\"}]}]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$e\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n6:null\n"])</script><script>self.__next_f.push([1,"f:I[9223,[\"223\",\"static/chunks/223-995718c84505ae71.js\",\"464\",\"static/chunks/464-8f3f5ecc2232c21e.js\",\"953\",\"static/chunks/app/blog/%5Bslug%5D/page-84d594473e3b8f62.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"4:[[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"BlogPosting\\\",\\\"headline\\\":\\\"리눅스에서 TCP 네트워크 응용프로그램 작성하기위한 전반적인 모든 것\\\",\\\"description\\\":\\\"\\\",\\\"image\\\":[\\\"https://www.notion.so/images/page-cover/gradients_11.jpg\\\"],\\\"datePublished\\\":\\\"2024-08-16\\\",\\\"dateModified\\\":\\\"2024-08-16\\\",\\\"author\\\":{\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"loopy\\\"},\\\"publisher\\\":{\\\"@type\\\":\\\"Organization\\\",\\\"name\\\":\\\"loopy\\\"},\\\"mainEntityOfPage\\\":{\\\"@type\\\":\\\"WebPage\\\",\\\"@id\\\":\\\"http://localhost:3000/blog/fff2c39d-6e1f-8072-b42a-f6dfa813dd4a\\\"}}\"}}],[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"BreadcrumbList\\\",\\\"itemListElement\\\":[{\\\"@type\\\":\\\"ListItem\\\",\\\"position\\\":1,\\\"name\\\":\\\"홈\\\",\\\"item\\\":\\\"http://localhost:3000\\\"},{\\\"@type\\\":\\\"ListItem\\\",\\\"position\\\":2,\\\"name\\\":\\\"블로그\\\",\\\"item\\\":\\\"http://localhost:3000/blog\\\"},{\\\"@type\\\":\\\"ListItem\\\",\\\"position\\\":3,\\\"name\\\":\\\"리눅스에서 TCP 네트워크 응용프로그램 작성하기위한 전반적인 모든 것\\\",\\\"item\\\":\\\"http://localhost:3000/blog/fff2c39d-6e1f-8072-b42a-f6dfa813dd4a\\\"}]}\"}}],[\"$\",\"main\",null,{\"className\":\"relative min-h-screen pb-20\",\"children\":[[\"$\",\"div\",null,{\"className\":\"absolute top-0 left-0 w-full z-0\",\"children\":[\"$\",\"div\",null,{\"className\":\"relative pt-6 px-4 sm:px-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"max-w-7xl mx-auto transform scale-95 sm:scale-90 transition-transform\",\"children\":[\"$\",\"div\",null,{\"className\":\"relative h-[400px] sm:h-[600px] w-full rounded-[2rem] sm:rounded-[2.5rem] bg-cover bg-center overflow-hidden select-none\",\"style\":{\"backgroundImage\":\"url(https://www.notion.so/images/page-cover/gradients_11.jpg)\"},\"children\":[[\"$\",\"div\",null,{\"className\":\"absolute inset-0 bg-white/30 dark:bg-gray-900/30 backdrop-blur-sm backdrop-brightness-110\"}],[\"$\",\"$Lf\",null,{\"href\":\"/blog\",\"className\":\"absolute bottom-6 left-6 inline-flex items-center justify-center rounded-full bg-white/90 p-3 text-gray-700 transition-transform hover:-translate-x-1 hover:text-gray-900 dark:bg-gray-950/90 dark:text-gray-300 dark:hover:text-white shadow-lg backdrop-blur-sm\",\"children\":[\"$\",\"svg\",null,{\"className\":\"w-5 h-5\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"viewBox\":\"0 0 24 24\",\"children\":[\"$\",\"path\",null,{\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"strokeWidth\":2,\"d\":\"M10 19l-7-7m0 0l7-7m-7 7h18\"}]}]}]]}]}],[\"$\",\"div\",null,{\"className\":\"absolute top-1/2 left-1/2 w-full max-w-4xl -translate-x-1/2 -translate-y-1/2 text-center px-4 pointer-events-none\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-3xl sm:text-5xl md:text-6xl font-bold text-gray-900 dark:text-white drop-shadow-lg break-keep leading-tight\",\"children\":\"리눅스에서 TCP 네트워크 응용프로그램 작성하기위한 전반적인 모든 것\"}]}]]}]}],[\"$\",\"div\",null,{\"className\":\"h-[450px] sm:h-[650px]\"}],[\"$\",\"article\",null,{\"className\":\"container mx-auto px-4 max-w-4xl relative z-10 bg-transparent\",\"children\":[[\"$\",\"header\",null,{\"className\":\"mb-12 text-center\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-wrap items-center justify-center gap-4 text-gray-600 dark:text-gray-400\",\"children\":[[\"$\",\"time\",null,{\"dateTime\":\"2024-08-16\",\"className\":\"text-sm font-medium\",\"children\":\"2024년 08월 16일\"}],false]}]}],[\"$\",\"$c\",null,{\"fallback\":[\"$\",\"div\",null,{\"className\":\"animate-pulse\",\"children\":[\"$\",\"div\",null,{\"className\":\"space-y-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-full\"}],[\"$\",\"div\",null,{\"className\":\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-5/6\"}],[\"$\",\"div\",null,{\"className\":\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-4/5\"}],[\"$\",\"div\",null,{\"className\":\"h-64 bg-gray-200 dark:bg-gray-700 rounded w-full\"}],[\"$\",\"div\",null,{\"className\":\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-full\"}],[\"$\",\"div\",null,{\"className\":\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4\"}]]}]}],\"children\":\"$L10\"}]]}]]}]]\n"])</script><script>self.__next_f.push([1,"8:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"리눅스에서 TCP 네트워크 응용프로그램 작성하기위한 전반적인 모든 것 | loopy\"}],[\"$\",\"meta\",\"1\",{\"name\":\"author\",\"content\":\"loopy\"}],[\"$\",\"meta\",\"2\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"3\",{\"name\":\"googlebot\",\"content\":\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"}],[\"$\",\"link\",\"4\",{\"rel\":\"canonical\",\"href\":\"http://localhost:3000/\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:title\",\"content\":\"리눅스에서 TCP 네트워크 응용프로그램 작성하기위한 전반적인 모든 것\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:image\",\"content\":\"https://www.notion.so/images/page-cover/gradients_11.jpg\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:image:width\",\"content\":\"1200\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:image:height\",\"content\":\"630\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:image:alt\",\"content\":\"리눅스에서 TCP 네트워크 응용프로그램 작성하기위한 전반적인 모든 것\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"11\",{\"property\":\"article:published_time\",\"content\":\"2024-08-16\"}],[\"$\",\"meta\",\"12\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"13\",{\"name\":\"twitter:title\",\"content\":\"리눅스에서 TCP 네트워크 응용프로그램 작성하기위한 전반적인 모든 것\"}],[\"$\",\"meta\",\"14\",{\"name\":\"twitter:image\",\"content\":\"https://www.notion.so/images/page-cover/gradients_11.jpg\"}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"d:\"$8:metadata\"\n"])</script><script>self.__next_f.push([1,"10:[\"$\",\"article\",null,{\"className\":\"prose prose-lg dark:prose-invert max-w-none notion-content\",\"children\":[\"$L11\",\"$L12\",\"$L13\",\"$L14\",\"$L15\",\"$L16\",\"$L17\",\"$L18\",\"$L19\",\"$L1a\",\"$L1b\",\"$L1c\",\"$L1d\",\"$L1e\",\"$L1f\",\"$L20\",\"$L21\",\"$L22\",\"$L23\",\"$L24\",\"$L25\",\"$L26\",\"$L27\",\"$L28\",\"$L29\",\"$L2a\",\"$L2b\",\"$L2c\",\"$L2d\",\"$L2e\",\"$L2f\",\"$L30\",\"$L31\",\"$L32\",\"$L33\",\"$L34\",\"$L35\",\"$L36\",\"$L37\",\"$L38\",\"$L39\"]}]\n"])</script><script>self.__next_f.push([1,"3a:I[464,[\"223\",\"static/chunks/223-995718c84505ae71.js\",\"464\",\"static/chunks/464-8f3f5ecc2232c21e.js\",\"953\",\"static/chunks/app/blog/%5Bslug%5D/page-84d594473e3b8f62.js\"],\"Image\"]\n3b:T686,"])</script><script>self.__next_f.push([1,"https://prod-files-secure.s3.us-west-2.amazonaws.com/52eb2cf7-d135-47dc-9439-bac44b0f8bd2/922d259d-c224-4c85-a742-7abe5e5d0a22/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Content-Sha256=UNSIGNED-PAYLOAD\u0026X-Amz-Credential=ASIAZI2LB4666FDIHV3C%2F20251207%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20251207T044444Z\u0026X-Amz-Expires=3600\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjELf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDYzE7OH2nVXOVe2QH26FcXKKTH7H2WB3gv0vxrAuDi4AIgS6ALcSk7sypLbBNpCl0kdyYMYAV6ruxf8BaUwessDEcqiAQIgP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDKAaLwo%2FhIbRxCEXcircA7lWV76WzqdgmkDUv6XtbqfSMkPjXWBSiPd4NCSOXmcVa6cYpEGfrgWDe6LDWHYG7MKaRTRhCJX1eeC1ch4aO9NZhlzJ2h2PWT5uNPVB7lwwZzKk8V2%2F9L%2B3W8IoG0lLG0DJI91eFWn62%2FxFYzw8CpQAk8wUC0hkbmVslypEOPZiZ1QP%2BBP5IQCPJcP%2FQbBAkhkekzWxOPJwEwdZREVvDBQzJxr4DGfQzShxS0bqMDS4Elhiv1fXiuWhSJNqDuIBGOgukw1RIbi169QbbNW4zedlI1kyVy8aQrN7DOGjGs4thKZzVeM1I0YnUENUVg3ECHtlfi2nZeY10mvUFLUjKGKRpkwy%2B4TpyNdgFYvixnCA%2BDNf1wjtg9RDxOq5HvmI4OWpcvvsebSX%2BcDesoOZX3e5wMgCyu0rOq0SIWWw9hAhOp4duIlKemJcxLwbjxHf1rDDpb84JnuTSNwFoXPTvaPuIPlNXQpieh81WOvIrVqF8AiSq6vR2ASAtIsjtvknyOsKUr94YEL0ffSdMXobc2QbkMrPRk94lVg1V0%2FabuVrXCepGnT81%2Fdlz0mCh5ctuoa%2BtZKGzWgtW58ditUULZcZSRs%2B1Yrq1TKVyKh6j1gC%2FyNHR%2BMm9FuQszoGMP%2Fq0skGOqUBWyyCAP02dbOk%2F27ujQJnLwUMYSbXFhHJ0Oj7LWB55aQrfR3TOgr0vOREgcr67U%2B8%2BJr56wbY3NjQXuNx7o4sWTqYmDHSufUvW%2Bqhb%2BFOZ03XqoXDacVR59ZC8cKbV%2BUKH%2BaTwzc%2B3QKLLDQkvhfFc%2BHmHhUTT7uQVnwlglJ4cs2rJhdIDjJdthdVMtrAXn68RBpH8MLTWxF19LTl%2BLuckk7wtjMC\u0026X-Amz-Signature=caecdc327a62c9cd10dbb5cabefe35aa2516cc21d3e1e92bbbd2771f74780704\u0026X-Amz-SignedHeaders=host\u0026x-amz-checksum-mode=ENABLED\u0026x-id=GetObject"])</script><script>self.__next_f.push([1,"11:[\"$\",\"div\",\"475952e2-cb27-402e-8232-fa9930309d67\",{\"className\":\"my-6 relative w-full h-96\",\"children\":[[\"$\",\"$L3a\",null,{\"src\":\"$3b\",\"alt\":\"Content image\",\"fill\":true,\"className\":\"object-contain rounded-lg\",\"sizes\":\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\",\"priority\":false}],\"$undefined\"]}]\n12:[\"$\",\"p\",\"c40d18d1-e884-487c-84dd-60fa9028bf45\",{\"className\":\"mb-4 leading-relaxed\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"CSAPP(Computer Systems: A Program’s Perspective)의 11장을 읽으면서 Client와 Server간의 정리가 한번 필요하다고 생각하여 작성하는 글입니다. 여기서 소켓은 TCP/IP만을 사용하는 소켓이고, 나머지 부분은 필요에 의해한다면 따로 공부할 예정입니다. CSAPP에서 사용하고 있는 echo 서버와 linux의 socket에 대해서 설명하는 글입니다.\"}]]}]\n13:[\"$\",\"p\",\"20f2940d-5735-4b13-9081-109bad15b424\",{\"className\":\"mb-4 leading-relaxed\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"먼저 위와 같은 그림을 이해하기 이전에 client와 server 그리고 tcp에 대해서 이해해야합니다.\"}]]}]\n14:[\"$\",\"h2\",\"91bcac18-6f7a-43b2-a083-7f7a416e274e\",{\"className\":\"text-2xl font-bold mb-3 mt-5\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"Client와 Server\"}]]}]\n15:[\"$\",\"p\",\"29cd4764-43da-4f89-b123-824b2eaa6ead\",{\"className\":\"mb-4 leading-relaxed\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"프로젝트를 하다보면 Client와 Server를 사용자 기기에 있는지 아닌지 등 한가지로만 구분하게 됩니다. 이 블로그에 필자가 생각하는 Client와 Server의 차이점은 다음과 같습니다.\"}]]}]\n16:[\"$\",\"p\",\"96a8a443-e010-4470-9d7e-52398a090b9a\",{\"className\":\"mb-4 leading-relaxed\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"Client: 신호를 주는 주체\"}]]}]\n17:[\"$\",\"p\",\"221929d9-2899-"])</script><script>self.__next_f.push([1,"4e59-a63f-531f6abffdba\",{\"className\":\"mb-4 leading-relaxed\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"Server: 신호를 받는 객체\"}]]}]\n18:[\"$\",\"p\",\"0050071f-54fa-44e1-ad1c-d59e96f430dc\",{\"className\":\"mb-4 leading-relaxed\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"즉 여기서 모든 권리는 Client가 가지고 있습니다. Server은 Client가 주는 데이터를 가지고 분석하여 Client가 원하는 대답을 주어야 합니다. 이런 시각은 반대로 Server에서 원하는 데이터를 주지 않을 시, Client가 동작하지 않는 관점으로 해석할 수 있습니다.\"}]]}]\n19:[\"$\",\"p\",\"6dd1d718-d700-40b4-abf6-1921a25ffb21\",{\"className\":\"mb-4 leading-relaxed\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"여담으로 위와 같은 관점으로 바라보았을 때 API 규격을 어떻게 작성하면 좋을지 한번 더 생각해볼 수 있습니다. Client와 Server가 모두 어떤 상황이고 어떠한 특징을 가졌는지에 따라서 보편적으로 또는 보수적으로 작성하는 것을 고민할 수 있습니다.\"}]]}]\n1a:[\"$\",\"h2\",\"39a92eb3-4674-46e3-a107-751481fa1ef8\",{\"className\":\"text-2xl font-bold mb-3 mt-5\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"TCP\"}]]}]\n1b:[\"$\",\"p\",\"11f5a323-4c74-412c-8351-8d5187b2f873\",{\"className\":\"mb-4 leading-relaxed\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"TCP는 전송계층의 한 프로토콜방식이며, 이와 반대되는 것은 UDP라고 생각할 수 있습니다. (여담이지만, 매번 UDP를 보았을 때 스타크래프트가 생각납니다.) TCP는 군사적인 목적으로 어떻게든 동작할 수 있으며, 중간에 데이터 유실이 일어나거나, 너무 전달되는 것을 막기 위해 나온 것입니다. 그래서 최대한 빠른 것이 아니라 안정적인 것이 더 중점으로 만들어졌다고 생각"])</script><script>self.__next_f.push([1,"하면 좋습니다.\"}]]}]\n1c:[\"$\",\"p\",\"5e55f3fe-c8ea-4429-bb25-27625779c20f\",{\"className\":\"mb-4 leading-relaxed\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"Mail, game 등 몇몇을 제외하고 인터넷의 대부분의 통신은 TCP/IP에 의해서 돌아간다고 합니다. 왜 그랬을까? 라는 생각을 하면, 아무래도 대부분의 통신은 ms의 단위가 중요하지 않고, 안정적으로 통신을 완료하는 것이 더 중요하기 때문이라고 생각합니다.\"}]]}]\n1d:[\"$\",\"h3\",\"7e3ce25f-b3f8-42e1-957b-d7c05935c3e3\",{\"className\":\"text-xl font-bold mb-2 mt-4\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"TCP Segment(세그먼트)\"}]]}]\n1e:[\"$\",\"p\",\"3a46e45e-9d92-49ac-b0c9-b052e79c612f\",{\"className\":\"mb-4 leading-relaxed\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"TCP는 데이터를 일정한 단위로 분할하여 TCP 헤더를 붙여 세그먼트를 생성합니다. 이 세그먼트는 IP 데이터그램에 캡슐화되어 전송합니다. 잠시 헷갈리는 용어를 정리하고 가겠습니다.\"}]]}]\n1f:[\"$\",\"li\",\"a3aeeae5-54c1-47de-8972-33d8d309428e\",{\"className\":\"ml-6 list-disc mb-2\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"세그먼트: TCP PDU(프로토콜 데이터 유닛)\"}]]}]\n20:[\"$\",\"li\",\"80971d2f-3141-4c8b-bc0d-b074b9ef0df6\",{\"className\":\"ml-6 list-disc mb-2\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"데이터그램: IP PDU\"}]]}]\n21:[\"$\",\"li\",\"ffa2e953-e550-467f-b170-8e67ed0038c3\",{\"className\":\"ml-6 list-disc mb-2\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"프레임: 데이터 링크 계층 PDU\"}]]}]\n22:[\"$\",\"p\",\"55b1a82c-0724-4dd0-8399-5a8ffbef60b2\",{\"className\":\"mb-4 leading-relaxed\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"아래는 간략하게 표시한 TCP의 세그먼트 구조입"])</script><script>self.__next_f.push([1,"니다.(자세한 것은 TCP정의 문서인 \"}],[\"$\",\"span\",\"1\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"RFC 9293\"}],[\"$\",\"span\",\"2\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"을 참고하시면 좋습니다, 아래는 정확한 것이 아닙니다.)\"}]]}]\n3c:T686,"])</script><script>self.__next_f.push([1,"https://prod-files-secure.s3.us-west-2.amazonaws.com/52eb2cf7-d135-47dc-9439-bac44b0f8bd2/8622a5e2-561e-4632-906f-8325cffa3160/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Content-Sha256=UNSIGNED-PAYLOAD\u0026X-Amz-Credential=ASIAZI2LB4666FDIHV3C%2F20251207%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20251207T044444Z\u0026X-Amz-Expires=3600\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjELf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDYzE7OH2nVXOVe2QH26FcXKKTH7H2WB3gv0vxrAuDi4AIgS6ALcSk7sypLbBNpCl0kdyYMYAV6ruxf8BaUwessDEcqiAQIgP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDKAaLwo%2FhIbRxCEXcircA7lWV76WzqdgmkDUv6XtbqfSMkPjXWBSiPd4NCSOXmcVa6cYpEGfrgWDe6LDWHYG7MKaRTRhCJX1eeC1ch4aO9NZhlzJ2h2PWT5uNPVB7lwwZzKk8V2%2F9L%2B3W8IoG0lLG0DJI91eFWn62%2FxFYzw8CpQAk8wUC0hkbmVslypEOPZiZ1QP%2BBP5IQCPJcP%2FQbBAkhkekzWxOPJwEwdZREVvDBQzJxr4DGfQzShxS0bqMDS4Elhiv1fXiuWhSJNqDuIBGOgukw1RIbi169QbbNW4zedlI1kyVy8aQrN7DOGjGs4thKZzVeM1I0YnUENUVg3ECHtlfi2nZeY10mvUFLUjKGKRpkwy%2B4TpyNdgFYvixnCA%2BDNf1wjtg9RDxOq5HvmI4OWpcvvsebSX%2BcDesoOZX3e5wMgCyu0rOq0SIWWw9hAhOp4duIlKemJcxLwbjxHf1rDDpb84JnuTSNwFoXPTvaPuIPlNXQpieh81WOvIrVqF8AiSq6vR2ASAtIsjtvknyOsKUr94YEL0ffSdMXobc2QbkMrPRk94lVg1V0%2FabuVrXCepGnT81%2Fdlz0mCh5ctuoa%2BtZKGzWgtW58ditUULZcZSRs%2B1Yrq1TKVyKh6j1gC%2FyNHR%2BMm9FuQszoGMP%2Fq0skGOqUBWyyCAP02dbOk%2F27ujQJnLwUMYSbXFhHJ0Oj7LWB55aQrfR3TOgr0vOREgcr67U%2B8%2BJr56wbY3NjQXuNx7o4sWTqYmDHSufUvW%2Bqhb%2BFOZ03XqoXDacVR59ZC8cKbV%2BUKH%2BaTwzc%2B3QKLLDQkvhfFc%2BHmHhUTT7uQVnwlglJ4cs2rJhdIDjJdthdVMtrAXn68RBpH8MLTWxF19LTl%2BLuckk7wtjMC\u0026X-Amz-Signature=73e7cefe1f83f724e252994ad263699cba013fae0a6f94e57664ca1e2337fb9f\u0026X-Amz-SignedHeaders=host\u0026x-amz-checksum-mode=ENABLED\u0026x-id=GetObject"])</script><script>self.__next_f.push([1,"23:[\"$\",\"div\",\"2fdd8e2e-fc45-4e56-ac78-532c21643a8f\",{\"className\":\"my-6 relative w-full h-96\",\"children\":[[\"$\",\"$L3a\",null,{\"src\":\"$3c\",\"alt\":\"TCP의 세그먼트 주소(간략)\",\"fill\":true,\"className\":\"object-contain rounded-lg\",\"sizes\":\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\",\"priority\":false}],[\"$\",\"p\",null,{\"className\":\"text-center text-sm text-gray-600 dark:text-gray-400 mt-2\",\"children\":\"TCP의 세그먼트 주소(간략)\"}]]}]\n24:[\"$\",\"p\",\"5cb7b5e2-6176-4b03-80e0-c641d3728ff5\",{\"className\":\"mb-4 leading-relaxed\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"TCP세그먼트는 헤더와 데이터 필드로 나뉘어 있습니다.\"}]]}]\n25:[\"$\",\"h3\",\"0600fc86-bc21-4163-8de9-e9d32fc225dc\",{\"className\":\"text-xl font-bold mb-2 mt-4\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"자세한 내용은 아래 토글을 통해 확인할 수 있습니다.\"}]]}]\n26:[\"$\",\"p\",\"ad41b3f3-63be-42f7-9ca0-6aa378eb69a5\",{\"className\":\"mb-4 leading-relaxed\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"네트워크의 속도에 따라서 분할된 데이터가 순서대로 도착하지 않거나, 도착하지 않는 경우가 있습니다. 이를 위와 같은 세그먼트의 규약을 통해서 데이터를 안전하고 정확하게 복구할 수 있습니다.\"}]]}]\n27:[\"$\",\"h2\",\"c473cd8d-6103-4b6f-a16a-1978952a0882\",{\"className\":\"text-2xl font-bold mb-3 mt-5\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"TCP Handshake\"}]]}]\n28:[\"$\",\"p\",\"6a9c1256-88b1-4201-8346-482db37e85a8\",{\"className\":\"mb-4 leading-relaxed\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"TCP 통신을 하려면 네트워크 연결 설정이 먼저 필요합니다. 데이터를 발송하는 애플리케이션, 수신하는 애플리케이션 모두 준비가 되었다는 것을 보장하기 위해 필요합니다. 일반적으로 TCP연결을 생성할 때"])</script><script>self.__next_f.push([1,"는 3-Way Handshake를 이용한다.\"}]]}]\n29:[\"$\",\"li\",\"4d9f9be1-e3fb-4f75-bd8b-412a32bbe73f\",{\"className\":\"ml-6 list-decimal mb-2\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"SYN: 클라이언트가 서버에서 SYN을 전송합니다.\"}]]}]\n2a:[\"$\",\"li\",\"ac2c98ef-b0d4-43a3-b5d6-abe1eda2b617\",{\"className\":\"ml-6 list-decimal mb-2\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"SYN-ACK: 서버가 SYN-ACK로 답장합니다. ACK는 클라이언트로부터 전달받은 SYN에 1을 덧셈한 것입니다.\"}]]}]\n2b:[\"$\",\"li\",\"94e97d52-9ec4-4d38-ad98-3fe811374c24\",{\"className\":\"ml-6 list-decimal mb-2\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"ACK: 클라이언트가 서버에게 ACK + 1을 전송합니다.\"}]]}]\n2c:[\"$\",\"h2\",\"8262e385-7299-491a-9ce8-ed962e130d30\",{\"className\":\"text-2xl font-bold mb-3 mt-5\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"Clinet와 Server의 통신\"}]]}]\n3d:T686,"])</script><script>self.__next_f.push([1,"https://prod-files-secure.s3.us-west-2.amazonaws.com/52eb2cf7-d135-47dc-9439-bac44b0f8bd2/922d259d-c224-4c85-a742-7abe5e5d0a22/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Content-Sha256=UNSIGNED-PAYLOAD\u0026X-Amz-Credential=ASIAZI2LB4666FDIHV3C%2F20251207%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20251207T044444Z\u0026X-Amz-Expires=3600\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjELf%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJHMEUCIQDYzE7OH2nVXOVe2QH26FcXKKTH7H2WB3gv0vxrAuDi4AIgS6ALcSk7sypLbBNpCl0kdyYMYAV6ruxf8BaUwessDEcqiAQIgP%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDKAaLwo%2FhIbRxCEXcircA7lWV76WzqdgmkDUv6XtbqfSMkPjXWBSiPd4NCSOXmcVa6cYpEGfrgWDe6LDWHYG7MKaRTRhCJX1eeC1ch4aO9NZhlzJ2h2PWT5uNPVB7lwwZzKk8V2%2F9L%2B3W8IoG0lLG0DJI91eFWn62%2FxFYzw8CpQAk8wUC0hkbmVslypEOPZiZ1QP%2BBP5IQCPJcP%2FQbBAkhkekzWxOPJwEwdZREVvDBQzJxr4DGfQzShxS0bqMDS4Elhiv1fXiuWhSJNqDuIBGOgukw1RIbi169QbbNW4zedlI1kyVy8aQrN7DOGjGs4thKZzVeM1I0YnUENUVg3ECHtlfi2nZeY10mvUFLUjKGKRpkwy%2B4TpyNdgFYvixnCA%2BDNf1wjtg9RDxOq5HvmI4OWpcvvsebSX%2BcDesoOZX3e5wMgCyu0rOq0SIWWw9hAhOp4duIlKemJcxLwbjxHf1rDDpb84JnuTSNwFoXPTvaPuIPlNXQpieh81WOvIrVqF8AiSq6vR2ASAtIsjtvknyOsKUr94YEL0ffSdMXobc2QbkMrPRk94lVg1V0%2FabuVrXCepGnT81%2Fdlz0mCh5ctuoa%2BtZKGzWgtW58ditUULZcZSRs%2B1Yrq1TKVyKh6j1gC%2FyNHR%2BMm9FuQszoGMP%2Fq0skGOqUBWyyCAP02dbOk%2F27ujQJnLwUMYSbXFhHJ0Oj7LWB55aQrfR3TOgr0vOREgcr67U%2B8%2BJr56wbY3NjQXuNx7o4sWTqYmDHSufUvW%2Bqhb%2BFOZ03XqoXDacVR59ZC8cKbV%2BUKH%2BaTwzc%2B3QKLLDQkvhfFc%2BHmHhUTT7uQVnwlglJ4cs2rJhdIDjJdthdVMtrAXn68RBpH8MLTWxF19LTl%2BLuckk7wtjMC\u0026X-Amz-Signature=caecdc327a62c9cd10dbb5cabefe35aa2516cc21d3e1e92bbbd2771f74780704\u0026X-Amz-SignedHeaders=host\u0026x-amz-checksum-mode=ENABLED\u0026x-id=GetObject"])</script><script>self.__next_f.push([1,"2d:[\"$\",\"div\",\"5c095f46-70f0-4ad3-89b3-1edddec78765\",{\"className\":\"my-6 relative w-full h-96\",\"children\":[[\"$\",\"$L3a\",null,{\"src\":\"$3d\",\"alt\":\"Content image\",\"fill\":true,\"className\":\"object-contain rounded-lg\",\"sizes\":\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\",\"priority\":false}],\"$undefined\"]}]\n2e:[\"$\",\"p\",\"56a47e55-13e2-43ad-8ba7-30549762c5c2\",{\"className\":\"mb-4 leading-relaxed\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"먼저 위에서 말했다 싶이 통신의 주체는 client입니다. 하지만 이를 보내거나 받기전에 준비해야할 사전작업들이 매우 많습니다. 먼저 애플리케이션이 돌아가기 위해서는 그 아래의 계층인 커널에게 허락을 받아야 합니다. 그 이유는 각 TCP, UDP마다 가용 가능한 Port는 다르고 이를 다루는 것은 커널이기 때문입니다.(여담으로, Ubuntu 내에서는 1024이하의 포트에서는 sudo의 권한이 필요합니다)\"}]]}]\n2f:[\"$\",\"p\",\"28953bc9-afc0-43ed-97df-714944da3f84\",{\"className\":\"mb-4 leading-relaxed\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"여기서 getaddinfo함수를 통하여 열고 싶은 포트와 호스트 등의 관련되어 있는 정보들을 모두 받을 수 있습니다. 이 이후 socket을 열어 실행할 수 있습니다. 즉 커널은 이때 프로세스가 포트를 사용함을 알 수 있습니다.\"}]]}]\n30:[\"$\",\"p\",\"efcef59e-8b24-4c31-8aa3-3ed1f6f85020\",{\"className\":\"mb-4 leading-relaxed\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"여기서부터 server쪽에서 bind라는 함수와 listen이라는 함수를 사용합니다. 먼저 bind는 얻어낸 socket의 값을 이용하여 client와 연결을 수립하기 위해 존재합니다. 또 listen은 socket에 연결된 이후 클라이언트의 connection을 기다리는 함수입니다. 이렇게 작성되는 이유는 위에서 보았듯이 client는 능동적이고 server는 수동적"])</script><script>self.__next_f.push([1,"이기 때문입니다.\"}]]}]\n31:[\"$\",\"p\",\"9195933d-8084-4417-8349-3d0f6bdfc31c\",{\"className\":\"mb-4 leading-relaxed\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"이제 드디어 TCP로 연결할 수 있도록 모두 준비를 하였습니다. client에서 connect의 함수를 이용하여 원격 위치에 있는 server에게 연결을 시도합니다. server에서 listen을 하고 있다면 accept가 되어 위에서 작성된 TCP Handshake가 일어납니다. 그 이후 server는 연결되어 기다리는 상태, client는 터널이 생겨 직접 보낼 수 있는 상태가 됩니다.\"}]]}]\n32:[\"$\",\"p\",\"f4a790f7-6d4e-49be-a11f-096587e61d73\",{\"className\":\"mb-4 leading-relaxed\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"위 다이어그램에서는 rio_writen을 통하여 socket에 쓰고, rio_readlineb를 통하여 socket에 들어온 정보를 적습니다. 이 과정이 소켓이 끊어질 때까지 일련의 과정을 지속할 수 있습니다.\"}]]}]\n33:[\"$\",\"p\",\"7dcb1c5a-fc00-4c7e-82dd-27891224e211\",{\"className\":\"mb-4 leading-relaxed\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"맨 마지막에 close 또한 일반적으로 server가 주체가 아닌 client가 주체입니다. client에서 close라는 신호인 EOF를 보내주고 프로그램을 종료합니다. 이 데이터를 server에서 읽은 이후 close로 하고, 다시 listen상태로 되돌아 갑니다\"}]]}]\n34:[\"$\",\"p\",\"32243645-3c1c-45fc-a775-2bd28fd452f3\",{\"className\":\"mb-4 leading-relaxed\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"위와 같은 handshake또한 kernel에서 추상화되어 쉽게 쓸 수 있다라는 것을 알 수 있습니다.\"}]]}]\n35:[\"$\",\"blockquote\",\"816986ff-f6c3-4dee-b6d4-f01711d0fcd1\",{\"className\":\"border-l-4 border-gray-300 dark:border-gray-600 pl-4 italic my-4 text-gray-700 dark:text-gray-300\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"i"])</script><script>self.__next_f.push([1,"nherit\"},\"children\":\"이를 가지고 CSAPP의 network:lab을 재미있게 하면 좋을 것 같습니다.\"}]]}]\n36:[\"$\",\"h2\",\"08cc0187-12e1-44ca-a3c0-e0c65959a571\",{\"className\":\"text-2xl font-bold mb-3 mt-5\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"Document\"}]]}]\n37:[\"$\",\"li\",\"c317338a-714a-4971-97a1-b50aed3858f4\",{\"className\":\"ml-6 list-disc mb-2\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"나무위키 | TCP\"}]]}]\n38:[\"$\",\"li\",\"4de744f3-df8c-443b-a209-9e050cbfefd1\",{\"className\":\"ml-6 list-disc mb-2\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"TOSS | TCP 용어사전\"}]]}]\n39:[\"$\",\"li\",\"dd9fc51b-3694-4099-a3e8-d13aedc65c39\",{\"className\":\"ml-6 list-disc mb-2\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"\",\"style\":{\"color\":\"inherit\"},\"children\":\"jhin.lee | TCP-Segment Structure\"}]]}]\n"])</script></body></html>